{"ast":null,"code":"import _slicedToArray from\"C:/Users/pou\\u017Eivatel/skola/essproject/react-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";function ImageLoader(src){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hasLoaded=_useState2[0],setHasLoaded=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),hasStartedInitialFetch=_useState4[0],setHasStartedInitialFetch=_useState4[1];useEffect(function(){setHasStartedInitialFetch(true);setHasLoaded(false);var image=new Image();image.src=src;var handleLoad=function handleLoad(){setHasLoaded(true);};image.onload=handleLoad;return function(){image.removeEventListener(\"load\",handleLoad);};},[src]);return{hasLoaded:hasLoaded,hasStartedInitialFetch:hasStartedInitialFetch};}export default ImageLoader;","map":{"version":3,"sources":["C:/Users/pouÅ¾ivatel/skola/essproject/react-portfolio/src/components/ImageLoader.js"],"names":["useState","useEffect","ImageLoader","src","hasLoaded","setHasLoaded","hasStartedInitialFetch","setHasStartedInitialFetch","image","Image","handleLoad","onload","removeEventListener"],"mappings":"4IAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,QAASC,CAAAA,WAAT,CAAqBC,GAArB,CAA0B,CACxB,cAAkCH,QAAQ,CAAC,KAAD,CAA1C,wCAAOI,SAAP,eAAkBC,YAAlB,eACA,eAA4DL,QAAQ,CAAC,KAAD,CAApE,yCAAOM,sBAAP,eAA+BC,yBAA/B,eAEAN,SAAS,CAAC,UAAM,CACZM,yBAAyB,CAAC,IAAD,CAAzB,CACAF,YAAY,CAAC,KAAD,CAAZ,CAEA,GAAMG,CAAAA,KAAK,CAAG,GAAIC,CAAAA,KAAJ,EAAd,CACAD,KAAK,CAACL,GAAN,CAAYA,GAAZ,CAEA,GAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBL,YAAY,CAAC,IAAD,CAAZ,CACH,CAFD,CAIAG,KAAK,CAACG,MAAN,CAAeD,UAAf,CAEA,MAAO,WAAM,CACXF,KAAK,CAACI,mBAAN,CAA0B,MAA1B,CAAkCF,UAAlC,EACD,CAFD,CAGH,CAhBQ,CAgBN,CAACP,GAAD,CAhBM,CAAT,CAkBA,MAAO,CAAEC,SAAS,CAATA,SAAF,CAAaE,sBAAsB,CAAtBA,sBAAb,CAAP,CACD,CAED,cAAeJ,CAAAA,WAAf","sourcesContent":["import { useState, useEffect } from \"react\";\n\nfunction ImageLoader(src) {\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [hasStartedInitialFetch, setHasStartedInitialFetch] = useState(false);\n\n  useEffect(() => {\n      setHasStartedInitialFetch(true);\n      setHasLoaded(false);\n\n      const image = new Image();\n      image.src = src;\n\n      const handleLoad = () => {\n          setHasLoaded(true);\n      };\n\n      image.onload = handleLoad;\n\n      return () => {\n        image.removeEventListener(\"load\", handleLoad);\n      };\n  }, [src]);\n\n  return { hasLoaded, hasStartedInitialFetch };\n}\n\nexport default ImageLoader;"]},"metadata":{},"sourceType":"module"}